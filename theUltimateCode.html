<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>1-100 çµ‚æ¥µå¯†ç¢¼</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <style>
      body {
        background: #1a1a1a;
        color: #00ff00;
        font-family: "Courier New", monospace;
      }

      .container {
        max-width: 400px;
        padding: 20px;
        margin-top: 10px;
      }

      .display {
        display: block;
        background: #000;
        border: 2px solid #00ff00;
        color: #00ff00;
        padding: 10px;
        margin: 10px 0;
        text-align: center;
        font-size: 16px;
        border-radius: 5px;
        box-shadow: 0 0 10px rgba(0, 255, 0, 0.3);
        min-height: 48px;
      }

      .btn-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 10px;
        margin: 20px 0;
      }

      .btn-custom {
        background: #000;
        border: 2px solid #00ff00;
        color: #00ff00;
        font-size: 16px;
        padding: 10px;
        transition: all 0.3s ease;
      }

      .btn-custom:hover {
        background: #00ff00;
        color: #000;
        box-shadow: 0 0 15px rgba(0, 255, 0, 0.5);
      }

      .btn-action {
        width: 100%;
        margin: 5px 0;
      }

      .title {
        text-align: center;
        margin-bottom: 20px;
        text-shadow: 0 0 10px rgba(0, 255, 0, 0.5);
      }

      .footer-buttons {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 10px;
      }

      /* å¯ä»¥åŠ å…¥ä»¥ä¸‹ CSS ä¾†å¼·åŒ–ç§‘æŠ€é¢¨æ ¼ */
      .modal-content {
        box-shadow: 0 0 20px rgba(0, 255, 0, 0.3);
      }

      .modal-body {
        text-shadow: 0 0 5px rgba(0, 255, 0, 0.5);
      }

      .modal .btn-custom:hover {
        background: #00ff00;
        color: #000;
        box-shadow: 0 0 15px rgba(0, 255, 0, 0.5);
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h2 class="title">1-100 çµ‚æ¥µå¯†ç¢¼</h2>

      <div class="display result">ç­”æ¡ˆä»‹æ–¼1è‡³100ä¹‹é–“</div>
      <div class="display output">è«‹æŒ‰ä¸‹Game Starté–‹å§‹éŠæˆ²</div>

      <div class="btn-grid">
        <button
          class="btn btn-custom btn-num btn-number"
          data-val="7"
          disabled="true"
        >
          æŸ’
        </button>
        <button
          class="btn btn-custom btn-num btn-number"
          data-val="8"
          disabled="true"
        >
          æŒ
        </button>
        <button
          class="btn btn-custom btn-num btn-number"
          data-val="9"
          disabled="true"
        >
          ç–
        </button>
        <button
          class="btn btn-custom btn-num btn-number"
          data-val="4"
          disabled="true"
        >
          è‚†
        </button>
        <button
          class="btn btn-custom btn-num btn-number"
          data-val="5"
          disabled="true"
        >
          ä¼
        </button>
        <button
          class="btn btn-custom btn-num btn-number"
          data-val="6"
          disabled="true"
        >
          é™¸
        </button>
        <button
          class="btn btn-custom btn-num btn-number"
          data-val="1"
          disabled="true"
        >
          å£¹
        </button>
        <button
          class="btn btn-custom btn-num btn-number"
          data-val="2"
          disabled="true"
        >
          è²³
        </button>
        <button
          class="btn btn-custom btn-num btn-number"
          data-val="3"
          disabled="true"
        >
          åƒ
        </button>
        <button class="btn btn-custom btn-num btn-clear" disabled="true">
          <i class="fas fa-backspace"></i> Clear
        </button>
        <button
          class="btn btn-custom btn-num btn-number"
          data-val="0"
          disabled="true"
        >
          é›¶
        </button>
        <button class="btn btn-custom btn-num btn-guess" disabled="true">
          <i class="fas fa-check"></i> Guess
        </button>
      </div>

      <button class="btn btn-custom btn-action mt-3 btn-start">
        Game Start
      </button>
    </div>

    <!-- å‹åˆ©è¨Šæ¯ Modal -->
    <div
      class="modal fade"
      id="winModal"
      tabindex="-1"
      aria-labelledby="winModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div
          class="modal-content"
          style="background: #1a1a1a; border: 2px solid #00ff00"
        >
          <div class="modal-header border-bottom border-success">
            <h5 class="modal-title" id="winModalLabel" style="color: #00ff00">
              ğŸ‰ æ­å–œéé—œï¼
            </h5>
            <button
              type="button"
              class="btn-close btn-close-white"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body text-center" style="color: #00ff00">
            <p id="winMessage" class="fs-4"></p>
          </div>
          <!-- <div class="modal-footer border-top border-success">
            <button
              type="button"
              class="btn btn-custom"
              data-bs-dismiss="modal"
            >
              é—œé–‰
            </button>
          </div> -->
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/js/all.min.js"></script>
    <script>
      const myModal = document.getElementById("myModal");
      const myInput = document.getElementById("myInput");

      const gameStart = document.querySelector(".btn-start");
      let gameStarted = false;
      let numberMin = 0;
      let numberMax = 100;

      let x;
      let answer;

      function random_number() {
        return Math.random();
      }

      gameStart.addEventListener("click", function () {
        gameStarted = !gameStarted; // åˆ‡æ›éŠæˆ²ç‹€æ…‹
        const buttons = document.querySelectorAll(
          ".btn-custom:not(.btn-start)"
        );
        if (gameStarted) {
          x = 100 * random_number();
          answer = Number(x.toFixed(0));
          console.log(`çµ‚æ¥µå¯†ç¢¼çš„å€¼æ˜¯${answer}`);
        }

        buttons.forEach((button) => {
          if (gameStarted) {
            button.removeAttribute("disabled");
            document.querySelector(".output").textContent = "";
          } else {
            button.setAttribute("disabled", "true");
            document.querySelector(".output").textContent =
              "è«‹æŒ‰ä¸‹Game Starté–‹å§‹éŠæˆ²";
          }
        });

        // æ›´æ–°é–‹å§‹æŒ‰éˆ•æ–‡å­—
        this.textContent = gameStarted ? "Game Reset" : "Game Start";
      });

      // const container = document.querySelector(".btn-grid");
      // container.addEventListener("click", function (e) {
      //   const val = e.target.dataset.val;
      //   // console.log(`data-val:${val}`);

      //   // let ans = document.querySelector(".output").textContent;
      //   // console.log(ans);

      //   // if ((val != null) & (ans <= 100)) {
      //   //   document.querySelector(".output").textContent += val;
      //   //   ans = document.querySelector(".output").textContent;
      //   // }

      //   let output = document.querySelector(".output");
      //   let currentNum = parseInt(output.textContent) || 0; // è½‰æ›ç‚ºæ•¸å­—
      //   console.log(currentNum);
      //   // æª¢æŸ¥æ˜¯å¦ç‚ºæ•¸å­—æŒ‰éˆ•ä¸”çµæœä¸æœƒè¶…é100
      //   if (val != null) {
      //     if (output.textContent === "" && val === "0") {
      //       return;
      //     }

      //     let newNum = parseInt(output.textContent + val);
      //     if (newNum <= 100) {
      //       output.textContent += val;
      //     }
      //     console.log(currentNum);
      //   }
      // });

      // const clearBtn = document.querySelector(".btn-clear");
      // clearBtn.addEventListener("click", function () {
      //   let tempOutput = document.querySelector(".output").textContent;
      //   tempOutput = "";
      // });

      const container = document.querySelector(".btn-grid");
      container.addEventListener("click", function (e) {
        // åªæœ‰ç•¶é»æ“Šçš„å…ƒç´ æœ‰ btn-number é¡åˆ¥æ™‚æ‰åŸ·è¡Œ
        if (e.target.classList.contains("btn-number")) {
          const val = e.target.dataset.val;
          let output = document.querySelector(".output");
          let currentNum = parseInt(output.textContent) || 0;

          if (output.textContent === "" && val === "0") {
            return;
          }

          let newNum = parseInt(output.textContent + val);
          if (newNum <= 100) {
            output.textContent += val;
          }
          // output.textContent += val;
          console.log(currentNum);
        }
      });

      document.querySelector(".btn-clear").addEventListener("click", () => {
        let output = document.querySelector(".output");
        // å–å¾—é™¤äº†æœ€å¾Œä¸€å€‹å­—ç¬¦ä»¥å¤–çš„æ‰€æœ‰å­—ç¬¦
        output.textContent = output.textContent.slice(0, -1);
      });

      const guessBtn = document.querySelector(".btn-guess");
      const winModal = new bootstrap.Modal(document.getElementById("winModal"));
      guessBtn.addEventListener("click", function () {
        let userGuess = parseInt(document.querySelector(".output").textContent);
        console.log(userGuess);

        if (userGuess <= numberMin || userGuess >= numberMax) {
          document.querySelector(
            ".result"
          ).textContent = `ç„¡æ•ˆçŒœæ¸¬ï¼Œè«‹é‡æ–°è¼¸å…¥ä¸€å€‹ä»‹æ–¼${numberMin}~${numberMax}çš„æ•¸å­—`;
          return;
        }

        if (userGuess == answer) {
          // æ›´æ–° Modal ä¸­çš„è¨Šæ¯
          document.getElementById(
            "winMessage"
          ).textContent = `æ­å–œä½ çŒœå°å•¦ï¼çµ‚æ¥µå¯†ç¢¼å°±æ˜¯ ${userGuess}`;
          // é¡¯ç¤º Modal
          winModal.show();
          // é‡ç½®éŠæˆ²ç‹€æ…‹
          gameStarted = false;
          // é‡ç½®outputè¼¸å‡ºæ¡†æ–‡å­—
          document.querySelector(".output").textContent =
            "è«‹æŒ‰ä¸‹Game Starté–‹å§‹æ–°éŠæˆ²";
          // ç¦ç”¨æ‰€æœ‰æŒ‰éˆ•
          const buttons = document.querySelectorAll(
            ".btn-custom:not(.btn-start)"
          );
          buttons.forEach((button) => {
            button.setAttribute("disabled", "true");
          });
          // é‡ç½®é–‹å§‹æŒ‰éˆ•æ–‡å­—
          document.querySelector(".btn-start").textContent = "Game Start";
          // é‡ç½®resultè¼¸å‡ºæ¡†æ–‡å­—
          document.querySelector(".result").textContent = "ç­”æ¡ˆä»‹æ–¼1è‡³100ä¹‹é–“";
        } else if (userGuess > answer) {
          numberMax = userGuess;
          document.querySelector(
            ".result"
          ).innerHTML = `çŒœçš„æ•¸å­—å¤ªé«˜äº†ï¼Œè©¦è‘—ç¨å¾®é™ä½å§!<br>ç­”æ¡ˆä»‹æ–¼${numberMin}è‡³${numberMax}ä¹‹é–“`;
        } else if (userGuess < answer) {
          numberMin = userGuess;
          document.querySelector(
            ".result"
          ).innerHTML = `çŒœçš„æ•¸å­—å¤ªä½äº†ï¼Œè©¦è‘—ç¨å¾®æé«˜å§!<br>ç­”æ¡ˆä»‹æ–¼${numberMin}è‡³${numberMax}ä¹‹é–“`;
        }
      });
    </script>
  </body>
</html>
