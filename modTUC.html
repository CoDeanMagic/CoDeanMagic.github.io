<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>1-100 çµ‚æ¥µå¯†ç¢¼</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <style>
      body {
        background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
        color: #786450;
        font-family: "Arial Rounded MT Bold", "Segoe UI", sans-serif;
        min-height: 100vh;
        /* åªå…è¨±æ»¾å‹•å’Œç¸®æ”¾æ‰‹å‹¢æ“ä½œï¼Œç¦æ­¢é›™æ“Šç¸®æ”¾ã€‚ */
        touch-action: manipulation;
      }

      .container {
        max-width: 400px;
        padding: 20px;
        margin-top: 10px;
      }

      .display {
        display: block;
        background: white;
        border: 3px solid #ffb7b7;
        color: #786450;
        padding: 15px;
        margin: 10px 0;
        text-align: center;
        font-size: 16px;
        border-radius: 20px;
        box-shadow: 0 4px 15px rgba(252, 182, 159, 0.2);
        min-height: 48px;
      }

      .btn-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 10px;
        margin: 20px 0;
      }

      .btn-custom {
        background: white;
        border: 3px solid #ffb7b7;
        color: #786450;
        font-size: 16px;
        padding: 10px;
        transition: all 0.3s ease;
        border-radius: 15px;
        box-shadow: 0 4px 10px rgba(252, 182, 159, 0.1);
      }

      .btn-custom:hover:not([disabled]) {
        background: #ffb7b7;
        color: white;
        transform: translateY(-2px);
        box-shadow: 0 6px 15px rgba(252, 182, 159, 0.2);
      }

      .btn-custom:disabled {
        background: #f5f5f5;
        border-color: #ddd;
        color: #aaa;
      }

      .btn-action {
        width: 100%;
        margin: 5px 0;
        background: #ffb7b7;
        color: white;
        font-weight: bold;
        font-size: 20px;
      }

      .btn-action:hover {
        background: #ff9b9b;
        color: white;
      }

      .title {
        text-align: center;
        margin-bottom: 25px;
        color: #786450;
        font-size: 28px;
        font-weight: bold;
        text-shadow: 2px 2px 4px rgba(252, 182, 159, 0.3);
      }

      /* Modal æ¨£å¼ */
      .modal-content {
        background: #fff9f9;
        border: 3px solid #ffb7b7;
        border-radius: 20px;
      }

      .modal-header {
        background: #ffb7b7;
        color: white;
        border-radius: 16px 16px 0 0;
        border-bottom: none;
      }

      .modal-body {
        color: #786450;
        font-size: 20px;
        padding: 25px;
      }

      .modal-footer {
        border-top: none;
        padding: 15px;
      }

      /* å¯æ„›çš„è£é£¾å…ƒç´  */
      .display::before {
        content: "â€";
        margin-right: 8px;
        color: #ffb7b7;
      }

      .display::after {
        content: "â€";
        margin-left: 8px;
        color: #ffb7b7;
      }

      .btn-number::before {
        content: "âœ¿";
        font-size: 12px;
        position: absolute;
        top: 5px;
        left: 5px;
        color: #ffb7b7;
        opacity: 0.5;
      }
    </style>
  </head>
  <body>
    <!-- Button trigger modal -->
    <!-- <button
      type="button"
      class="btn btn-primary"
      data-bs-toggle="modal"
      data-bs-target="#winModal"
    >
      Launch demo modal
    </button> -->
    <!-- å‹åˆ©è¨Šæ¯ Modal -->
    <div class="modal fade" id="winModal" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">ğŸ‰ æ­å–œéé—œï¼</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
            ></button>
          </div>
          <div class="modal-body text-center">
            <p id="winMessage"></p>
          </div>
          <div class="modal-footer">
            <!-- <button type="button" class="btn btn-modal" data-bs-dismiss="modal">
              é—œé–‰
            </button> -->
          </div>
        </div>
      </div>
    </div>

    <div class="container">
      <h2 class="title">âœ¿ çµ‚æ¥µå¯†ç¢¼ âœ¿</h2>

      <div class="display result">ç­”æ¡ˆç¯„åœç‚º 1 ~ 100</div>
      <div class="display output">è«‹æŒ‰ä¸‹Game Starté–‹å§‹éŠæˆ²ï½</div>

      <div class="btn-grid">
        <button class="btn btn-custom btn-number" data-val="7" disabled="true">
          ä¸ƒ
        </button>
        <button class="btn btn-custom btn-number" data-val="8" disabled="true">
          å…«
        </button>
        <button class="btn btn-custom btn-number" data-val="9" disabled="true">
          ä¹
        </button>
        <button class="btn btn-custom btn-number" data-val="4" disabled="true">
          å››
        </button>
        <button class="btn btn-custom btn-number" data-val="5" disabled="true">
          äº”
        </button>
        <button class="btn btn-custom btn-number" data-val="6" disabled="true">
          å…­
        </button>
        <button class="btn btn-custom btn-number" data-val="1" disabled="true">
          ä¸€
        </button>
        <button class="btn btn-custom btn-number" data-val="2" disabled="true">
          äºŒ
        </button>
        <button class="btn btn-custom btn-number" data-val="3" disabled="true">
          ä¸‰
        </button>
        <button class="btn btn-custom btn-clear" disabled="true">
          <i class="fas fa-backspace"></i> Clear
        </button>
        <button class="btn btn-custom btn-number" data-val="0" disabled="true">
          é›¶
        </button>
        <button class="btn btn-custom btn-guess" disabled="true">
          <i class="fas fa-check"></i> Guess
        </button>
      </div>

      <button class="btn btn-custom btn-action mt-3 btn-start">
        Game Start
      </button>
    </div>

    <!-- <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h1 class="modal-title fs-5" id="exampleModalLabel">Modal title</h1>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              ...
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
              <button type="button" class="btn btn-primary">Save changes</button>
            </div>
          </div>
        </div>
      </div> -->

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/js/all.min.js"></script>
    <script>
      const gameStart = document.querySelector(".btn-start");
      let gameStarted = false;
      let numberMin = 0;
      let numberMax = 100;
      let answer;
      let isGuessed = false;

      function random_number() {
        return Math.random();
      }

      gameStart.addEventListener("click", function () {
        gameStarted = !gameStarted; // åˆ‡æ›éŠæˆ²ç‹€æ…‹
        console.log(gameStarted);
        if (gameStarted) {
          let x = 100 * random_number();
          answer = Number(x.toFixed(0));
          console.log(`çµ‚æ¥µå¯†ç¢¼çš„å€¼æ˜¯${answer}`);
        }

        resetButton();

        // æ›´æ–°é–‹å§‹æŒ‰éˆ•æ–‡å­—
        this.textContent = gameStarted ? "Game Reset" : "Game Start";
      });

      const container = document.querySelector(".btn-grid");
      container.addEventListener("click", function (e) {
        // åªæœ‰ç•¶é»æ“Šçš„å…ƒç´ æœ‰ btn-number é¡åˆ¥æ™‚æ‰åŸ·è¡Œ
        if (e.target.classList.contains("btn-number")) {
          const val = e.target.dataset.val;
          let output = document.querySelector(".output");
          let currentNum = parseInt(output.textContent) || 0;

          if (output.textContent === "" && val === "0") {
            return;
          }

          let newNum = parseInt(output.textContent + val);
          if (isGuessed) {
            document.querySelector(".output").textContent = "";
            output.textContent += val;
            isGuessed = !isGuessed;
          } else if (newNum <= 100) {
            output.textContent += val;
          }
          console.log(currentNum);
        }
      });

      document.querySelector(".btn-clear").addEventListener("click", () => {
        let output = document.querySelector(".output");
        // å–å¾—é™¤äº†æœ€å¾Œä¸€å€‹å­—ç¬¦ä»¥å¤–çš„æ‰€æœ‰å­—ç¬¦
        output.textContent = output.textContent.slice(0, -1);
      });

      const guessBtn = document.querySelector(".btn-guess");
      const winModal = new bootstrap.Modal(document.getElementById("winModal"));
      guessBtn.addEventListener("click", function () {
        let userGuess = parseInt(document.querySelector(".output").textContent);

        console.log(`ä½¿ç”¨è€…çŒœæ¸¬çš„å€¼ç‚º${userGuess}`);

        if (userGuess <= numberMin || userGuess >= numberMax) {
          document.querySelector(
            ".result"
          ).textContent = `ç„¡æ•ˆçŒœæ¸¬ï¼Œè«‹é‡æ–°è¼¸å…¥ä¸€å€‹ä»‹æ–¼${numberMin}~${numberMax}çš„æ•¸å­—`;
          isGuessed = true;
          console.log(`isGuessedçš„å€¼ç‚º${isGuessed}`);
          return;
        }

        if (userGuess == answer) {
          // æ›´æ–° Modal ä¸­çš„è¨Šæ¯
          document.getElementById(
            "winMessage"
          ).textContent = `æ­å–œä½ çŒœå°å•¦ï¼çµ‚æ¥µå¯†ç¢¼å°±æ˜¯ ${userGuess}`;
          // é¡¯ç¤º Modal
          winModal.show();
          // é‡ç½®éŠæˆ²ç‹€æ…‹
          gameStarted = false;
          resetButton();
          //è‹¥ä½¿ç”¨è€…çŒœçš„æ•¸å­—æ¯”å¯†ç¢¼å¤§ï¼Œè¦æ›´æ–°æ•¸å­—ç¯„åœä¸Šé™
        } else if (userGuess > answer) {
          numberMax = userGuess;
          document.querySelector(
            ".result"
          ).innerHTML = `çŒœçš„æ•¸å­—å¤ªé«˜äº†ï¼Œè©¦è‘—ç¨å¾®é™ä½å§!<br>ç­”æ¡ˆä»‹æ–¼${numberMin}è‡³${numberMax}ä¹‹é–“`;
          isGuessed = true;
          //è‹¥ä½¿ç”¨è€…çŒœçš„æ•¸å­—æ¯”å¯†ç¢¼å°ï¼Œè¦æ›´æ–°æ•¸å­—ç¯„åœä¸‹é™
        } else if (userGuess < answer) {
          numberMin = userGuess;
          document.querySelector(
            ".result"
          ).innerHTML = `çŒœçš„æ•¸å­—å¤ªä½äº†ï¼Œè©¦è‘—ç¨å¾®æé«˜å§!<br>ç­”æ¡ˆä»‹æ–¼${numberMin}è‡³${numberMax}ä¹‹é–“`;
          isGuessed = true;
        }
      });
      //otherButtonæ˜¯"é™¤äº†Game StartæŒ‰éˆ•ä»¥å¤–"
      const otherButton = document.querySelectorAll(
        ".btn-custom:not(.btn-start)"
      );
      function resetButton() {
        otherButton.forEach((button) => {
          if (gameStarted) {
            // å•Ÿç”¨æ‰€æœ‰otherButtonæŒ‰éˆ•
            button.removeAttribute("disabled");
            // é‡ç½®outputè¼¸å‡ºæ¡†æ–‡å­—
            document.querySelector(".output").textContent = "";
          } else {
            // ç¦ç”¨æ‰€æœ‰otherButtonæŒ‰éˆ•
            button.setAttribute("disabled", "true");
            // é‡ç½®resultè¼¸å‡ºæ¡†æ–‡å­—
            document.querySelector(".result").textContent =
              "ç­”æ¡ˆç¯„åœç‚º 1 ~ 100";
            // é‡ç½®outputè¼¸å‡ºæ¡†æ–‡å­—
            document.querySelector(".output").textContent =
              "è«‹æŒ‰ä¸‹Game Starté–‹å§‹éŠæˆ²ï½";
            // é‡ç½®é–‹å§‹æŒ‰éˆ•æ–‡å­—
            document.querySelector(".btn-start").textContent = "Game Start";
          }
        });
      }
    </script>
  </body>
</html>
